<html>
<head>
	<meta charset="utf-8">
	<!--Import materialize.css-->
	<link type="text/css" rel="stylesheet" href="materialize/css/materialize.min.css"  media="screen,projection"/>

	<!--Cutomization-->
	<link type="text/css" rel="stylesheet" href="css/styles.css"/>

	<script src="brython.js"></script>
	<script src="brython_stdlib.js"></script>

	<title>Cartes Aléatoires et Mémoire</title>

<script type="text/python">
from browser import document, html, alert
import random


def display1(text):
  	document["display"].clear()
  	document["display"].html = text


def display2(id, text):
  	document[id].html = document[id].html + text


n = 0
def cartes_obo():
  global cartes, n
  n = n + 1
  if n == 8:
  	document['cartes'].style.display = 'inline'
  	document['display'].style.display = 'none'
  else:
  	display1("<img src='" + cartes[n] + ".png' width='400' />")

def cartes_obo_back():
	global cartes, n
	if n != 0:
		n = n - 1
		display1("<img src='" + cartes[n] + ".png' width='400' />")

i = 0
selected = []
def cartes_select(ev):
	global i, select
	if i != 0 and (str(ev.target.dataid) == selected[-1]):
		#unselect the last selection
		document[ev.target.dataid + '_pos'].clear()
		ev.target.style.opacity = '1'
		ev.target.style.cursor = 'pointer'
		del selected[-1]
		i = i - 1
	else:
		if str(ev.target.dataid) not in selected:
			selected.append(str(ev.target.dataid))
			i = i + 1
			document[ev.target.dataid + '_pos'].html = "<img src='" + str(i) + ".png' style='cursor:pointer;pointer-events:auto;opacity:0.5' width='100%' />"
			ev.target.style.opacity = '0.2'
			ev.target.style.cursor = 'not-allowed'


def score():
	global selected, cartes
	for n1 in range(0,len(selected)):
		document["score"].html = document["score"].html + selected[n1]

	document["score"].html = document["score"].html + '<br />'

	for n2 in range(0,len(cartes)):
		document["score"].html = document["score"].html + cartes[n2]

	points = 0
	for n3 in range(0,len(cartes)):
		if selected[n3] == cartes[n3]:
			points = points + 1

	document["score"].html = document["score"].html + '<br />'
	document["score"].html = document["score"].html + str(points)


cartes = ["C1", "CR", "CD", "CV", "CX", "C9", "C8", "C7"]
random.shuffle(cartes)
display1("<img src='" + cartes[0] + ".png' width='400' />")

document['button_right'].bind('click',cartes_obo)
document['button_left'].bind('click',cartes_obo_back)
document['cartes'].bind('click',cartes_select)
document['submit'].bind('click',score)
</script>

</head>

<body onload="brython()" style="background-color:white;padding:0px;margin:0px;">

  <div style="width:100%;padding:0px;margin:0px;">
		<div id="display" style="text-align:center;"></div>
    <div id="button_left" style="width:80px;position:absolute;top:50%;left:10px;"><a class="waves-effect waves-light btn"><i class="material-icons">keyboard_arrow_left</i></a></div>
		<div id="button_right" style="width:80px;position:absolute;top:50%;right:10px;"><a class="waves-effect waves-light btn"><i class="material-icons">keyboard_arrow_right</i></a></div>
	</div>

  <div id="cartes" style="display:none;padding:0px;margin:0px;">
		<div id='C1' style='float:left;width:12.5%;height:25%;'><div id='C1_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='C1' src='C1.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='CR' style='float:left;width:12.5%;height:25%;'><div id='CR_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='CR' src='CR.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='CD' style='float:left;width:12.5%;height:25%;'><div id='CD_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='CD' src='CD.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='CV' style='float:left;width:12.5%;height:25%;'><div id='CV_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='CV' src='CV.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='CX' style='float:left;width:12.5%;height:25%;'><div id='CX_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='CX' src='CX.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='C9' style='float:left;width:12.5%;height:25%;'><div id='C9_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='C9' src='C9.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='C8' style='float:left;width:12.5%;height:25%;'><div id='C8_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='C8' src='C8.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='C7' style='float:left;width:12.5%;height:25%;'><div id='C7_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='C7' src='C7.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='C1' style='float:left;width:12.5%;height:25%;'><div id='C1_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='C1' src='C1.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='CR' style='float:left;width:12.5%;height:25%;'><div id='CR_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='CR' src='CR.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='CD' style='float:left;width:12.5%;height:25%;'><div id='CD_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='CD' src='CD.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='CV' style='float:left;width:12.5%;height:25%;'><div id='CV_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='CV' src='CV.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='CX' style='float:left;width:12.5%;height:25%;'><div id='CX_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='CX' src='CX.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='C9' style='float:left;width:12.5%;height:25%;'><div id='C9_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='C9' src='C9.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='C8' style='float:left;width:12.5%;height:25%;'><div id='C8_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='C8' src='C8.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='C7' style='float:left;width:12.5%;height:25%;'><div id='C7_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='C7' src='C7.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='C1' style='float:left;width:12.5%;height:25%;'><div id='C1_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='C1' src='C1.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='CR' style='float:left;width:12.5%;height:25%;'><div id='CR_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='CR' src='CR.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='CD' style='float:left;width:12.5%;height:25%;'><div id='CD_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='CD' src='CD.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='CV' style='float:left;width:12.5%;height:25%;'><div id='CV_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='CV' src='CV.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='CX' style='float:left;width:12.5%;height:25%;'><div id='CX_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='CX' src='CX.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='C9' style='float:left;width:12.5%;height:25%;'><div id='C9_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='C9' src='C9.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='C8' style='float:left;width:12.5%;height:25%;'><div id='C8_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='C8' src='C8.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='C7' style='float:left;width:12.5%;height:25%;'><div id='C7_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='C7' src='C7.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='C1' style='float:left;width:12.5%;height:25%;'><div id='C1_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='C1' src='C1.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='CR' style='float:left;width:12.5%;height:25%;'><div id='CR_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='CR' src='CR.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='CD' style='float:left;width:12.5%;height:25%;'><div id='CD_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='CD' src='CD.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='CV' style='float:left;width:12.5%;height:25%;'><div id='CV_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='CV' src='CV.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='CX' style='float:left;width:12.5%;height:25%;'><div id='CX_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='CX' src='CX.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='C9' style='float:left;width:12.5%;height:25%;'><div id='C9_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='C9' src='C9.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='C8' style='float:left;width:12.5%;height:25%;'><div id='C8_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='C8' src='C8.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>
		<div id='C7' style='float:left;width:12.5%;height:25%;'><div id='C7_pos' style='position:absolute;width:12.5%;height:25%;'></div><img dataid='C7' src='C7.png' style='cursor:pointer;pointer-events:auto;opacity:1' width="70%" /></div>

		<a id="submit" class="waves-effect waves-light btn"><i class="material-icons">check</i></a>
	</div>



	<div id="select" style='clear:both'></div>
	<div id="score" style='clear:both'></div>

	<!--
	<div class="fixed-action-btn">
		<a class="btn-floating btn-large red"><i class="large material-icons">mode_edit</i></a>
		<ul>
			<li><a class="btn-floating red"><i class="material-icons">insert_chart</i></a></li>
			<li><a class="btn-floating yellow darken-1"><i class="material-icons">format_quote</i></a></li>
			<li><a class="btn-floating green"><i class="material-icons">publish</i></a></li>
			<li><a class="btn-floating blue"><i class="material-icons">attach_file</i></a></li>
		</ul>
	</div>
-->

	<!--Import jQuery before materialize.js-->
  <script type="text/javascript" src="jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="materialize/js/materialize.min.js"></script>
</body>
</html>
